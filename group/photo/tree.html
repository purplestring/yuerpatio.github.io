<!DOCTYPE html>
<head>
	<meta id="meta" name="viewport">
	<script>document.getElementById("meta").content="width=device-width, initial-scale="+window.screen.width/1060; </script>
	<link rel="stylesheet" href="../../main/css/style.css" type="text/css" />	
	<link rel="icon" type="image/x-ico" href="../../yuer.ico" />
	<script src="../../main/js/vue.min.js"></script>
	<script src="species.js"></script>
	<script src="info.js"></script>
	<style>
	.myimg1{
		max-height: 60vh;
		left:calc(50% - 50vh);
	}
	
	.waterfall {
		width: 100%;
		column-gap:10px;
		column-count: 4;
		margin: 0 auto;
		padding-top: 10px;
	}
	.water {
		padding: 2px;
		margin-bottom: 6px;
		break-inside: avoid;
		border: 1px solid #000;
		background:#fff;
		overflow: hidden;
	}
	.water img {
		width: 100%;
		cursor: pointer;
		transition: all 0.6s;
	}
	.water img:hover{
		transform: scale(1.1);
	}
	.water p {
		line-height: 30px;
	}
	.waterfall iframe{
		width:100%;
		height:100%;
		border: medium none;
	}
	@media screen and (max-device-width:640px){
		.waterfall {
			column-count: 2;
		}
		.water p {
			font-size: 36px;
			line-height: 36px;
		}
	}
	</style>
	<title>树状图</title>
<body>
	<div id="main">
		<div id="mt"></div><div id="lm"></div><div id="rm"></div>
		<div id="mb"></div><div id="lt"></div><div id="rt"></div>
		<div id="lb"></div><div id="rb"></div><div id="ltx"></div>
		<div id="rtx"></div><div id="lbx"></div><div id="rbx"></div><br/><br/><br/>
		<div id="all" v-cloak>
			<div v-if="id==-1">
				<div class="title" @click="test=!test;reSet();" align="center">树状图</div>
				<div class="desc2">万物苍生 拍摄搜集于此<br>
				列阵为页 止于纲目<br>
				浅蓝链是所遇 灰色是未遇<br>
				</div>
				<br/><div class="family" style="text-align:center;"><a href="species.html">分类页</a> <a href="index.html">百物卷</a></div>	
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						viewBox="0 0 500 500" enable-background="new 0 0 500 500" xml:space="preserve">
						<g id="图层_3">
							<path fill="#2BC11F" d="M434.8671,403.2343l-22.8602-11.9636l13.0695-21.1812l-20.584,18.4987l-35.9322,13.1072l5.5437-14.4568
								l-14.1353,17.5908l-26.2521,9.5762l5.9271-15.4567l-15.1129,18.8075l-34.8366,12.7076l5.9495-15.5151l-15.17,18.8786
								l-47.6746,17.3907L238,433.5367l-12.3878,20.303l-19.598,7.1489l0.0129-27.4984l25.2009-20.2029l-25.1974,12.6804l0.0072-15.3212
								l25.4199-16.4847l-25.416,8.2471l0.0063-13.4312l24.9954-13.8177l18.8629,1.3425l25.7675,9.5965l-19.8956-14.6579l18.7785-15.4639
								l-24.6295,10.5018l-9.0223-0.6421l6.3459-6.2068l22.6991-21.2034l-24.3383,13.1057l-4.7952-24.9699l-2.0849,27.4128
								l-12.9526,12.6686l-19.7257,10.9045l0.0139-29.677l25.4584-40.7208l28.2657-7.8964l-23.4885,0.2552l17.1585-27.4452l29.3627-8.2029
								l-24.4001,0.2651l15.455-24.7203l28.9455-8.0862l-24.0534,0.2614l19.66-31.4465l20.2454-9.5061l26.2642,13.5175l-18.7737-17.0347
								l41.1992-19.3449l18.0676,31.5483l-0.4551,18.5312l-17.9052,24.8478l17.6489-14.4135l-0.4926,20.0555l-17.6127,24.442
								l17.3607-14.1781l-0.3371,13.7234l-13.0881,26.2695l17.545-19.8679l14.4268,21.5429l-8.9377-25.6589l0.7485-30.4759
								l15.9151,14.9635l-15.6617-25.2802l0.5006-20.3818l21.9125,11.4107l-21.7045-19.8839l0.0538-2.187l20.9218-4.7218l27.1414,4.0889
								l-21.7421-9.8079l20.0032-15.7477l-26.098,11.3719l-22.2481,5.0211l-18.1795-31.7437l2.2592-7.9163l20.8495-4.6145l-18.9948-1.8848
								l3.8497-13.4897l8.2567-8.1395l27.5178,5.4028l-21.8453-10.9947l4.1603-4.1013l23.1465-17.3149l-22.8817,9.0343l5.0148-25.2274
								l-13.3265,27.3997l-13.0743,12.8887l-15.1413-25.8898l-0.0186-28.5201l-5.2582,19.4976l-6.4745-11.0707l-11.3531-27.0143
								l3.2418,24.6799l-22.3815-9.2999L345.1038,82.28l16.1311,27.5822l-21.1249-3.2334l26.1329,11.7964l7.2079,12.3248l-7.6163,26.6884
								l-25.7481,12.0899l2.066-21.1923l-9.2028,24.5433l-32.0062,15.0284l5.9185-20.2533l-11.9537,19.6793l-24.8759-22.5162
								l3.8586-29.9488l-10.0122,24.379l-18.7529-16.974l3.8007-29.4994l-9.8619,24.0131l-27.7746-25.14l-3.2622-7.9797l17.0084-22.7563
								l-19.9642,15.526l-3.9321-9.6183l11.0579-25.5134L197.8937,78.878l-5.1482-12.5933l11.2374-25.9277l-14.5365,17.8576l-8.818-21.57
								l-0.0821,0.0336l5.2833-23.5466l-12.1033,22.4219l-25.7919-4.7057l24.203,11.4541l3.231,7.9031l-25.8652,0.1531l29.0295,7.587
								l10.0151,24.4976l-24.5733,0.1454l27.5796,7.208l9.6086,23.5032l-39.1819,10.3629l-24.4117-15.1931l16.7859,17.2099
								l-26.8177,7.0928l-26.2412-19.5615l18.0135,21.7375l-26.5811,7.0302L71,127.5367l11.8765,13.4172L59,140.5367l24.1769,6.8766
								L61,156.5367l23.8399-3.1319L72,169.5367l17.4224-12.6847l-0.9941,21.2342l8.5649-26.8921l38.9293-10.296l-9.6914,18.5784
								l19.4005-21.1462l62.0926-16.4222l10.6343,9.6255l-23.3507,10.258l29.6531-4.5535l19.0693,17.2604l-21.7709,9.564l27.6469-4.2454
								l18.3731,16.6302l-22.4218,9.8499l28.4734-4.3723l15.3219,13.8685l-10.8844,17.4096L260,198.5367l14.5177,20.9852l-15.6219,24.9874
								l-17.1271-16.8636l13.4117,22.8065l-17.9838,28.765l-17.7758-17.5024l13.9196,23.6704l-32.6937,52.2935l-21.2754-19.2626
								l-2.0151-24.5588l-3.5464,19.5236l-28.7979-26.0734l4.5489-14.2077l18.3077-22.8977l-20.3786,14.8218l-4.3749-25.3876
								l-2.7056,29.2522l-3.5376,11.0491l-17.141-15.5193l-2.4126-29.404l-4.246,23.3754l-23.799-21.5474l-2.1998-26.8101l-3.8715,21.3132
								l-8.1497-7.3787l-11.7671-24.9647l3.8074,23.8875l-25.8074-4.6604l26.314,12.4797l19.3276,17.4988l-19.8699,0.3138l27.9637,7.0142
								l22.2151,20.1132l-19.2576,0.3041l27.102,6.798l25.6657,23.2372l-21.0187,0.332l29.5804,7.4197l18.0224,16.3171l-20.5663,0.3248
								l28.9438,7.2601l10.3599,9.3797l-0.0068,14.5474l-24.7672-6.4445l24.7635,14.0511l-0.0197,42.1808l-24.9988-6.5048l24.9952,14.1826
								l-0.0113,24.1586l-56.857-16.3282l-17.3586-21.6583l8.5054,19.1158l-25.533-7.3325l-9.5298-9.8975l-1.735-27.5977l-4.2132,21.42
								l-26.2622-27.2751l6.9993-13.9986l17.5387-20.6886l-19.5383,13.6622l-9.799-24.2049l3.3081,25.8508l-8.0411,16.0823
								l-20.9997-10.1288l22.7214,19.7303l9.8332,10.2124L51,397.5367l19.0493-2.2006l23.5733,24.4826l-25.4647,9.9029L48,424.5367
								l18.166,12.0469L58,452.5367l15.4272-14.1346l11.6282-4.5221L88,454.5367l3.668-23.2283l11.3605-4.418l58.4033,16.7723
								l-13.9727,22.6603l21.4401-20.5158l27.1185,7.7878L196,491.5348l10,0.0039l0.0093-19.9035l43.112-15.7263l22.1346,11.9953
								l22.129,17.8078l-13.4767-19.0893l22.0647-5.1657l-24.6754-1.6513l-15.6335-8.4721l47.5148-17.3323l20.3888,10.5855
								l-13.1244-13.2354l28.0424-10.2292l22.082,11.4647l-14.2144-14.3346l25.0463-9.1364l20.168,10.4709l-12.9823-13.0921l24.021-8.7623
								L434.8671,403.2343z M70.8008,226.131l-0.6714,0.7416l0.1906-0.5932L70.8008,226.131z"/>
					</g>
						<g v-for="(item,i) in words">
							<text @click.prevent="if(item.num>0){S_ORDER=item.n;setClass(item.n);id=-3}"
								:transform='"matrix(1 0 0 1 "+item.x+" "+item.y+")"' font-size="12px" 
								:style="item.num>0?'fill:DarkCyan;cursor:pointer;':'fill:Gray'" >{{item.n}}{{item.num>0?item.num:""}}</text>
						</g>
					</svg>
				<br/><br/>
				<div align="center"><a href="../../index.html" style="cursor:pointer;font-weight:bold;">▶返回百物卷◀</a></div>
			</div>
			<div v-if="id==-2">
				<div class="title" align='center'>{{S_CLASS}}</div><br>{{getInfo()}}
				<div id="waterfall" class="waterfall" >
					<div class="water" v-for="(item, i) in list" v-if="item.S_CLASS==S_CLASS && item.F_NAME && (i==0 || item.S_ORDER!=list[i-1].S_ORDER)"
						@click.prevent="S_CLASS=item.S_CLASS;S_ORDER=item.S_ORDER;(i==list.length-1 || item.S_ORDER!=list[i+1].S_ORDER)?id=i:id=-3">
						<img :src='item.F_GROUP+"/"+item.F_NAME.split(",")[0]' @click.prevent="id=i" alt="" />
						<p>{{item.S_ORDER}}{{getOrderChildNum(i)}}：{{item.TITLE}}</p>
					</div>
				</div>
				<br><br>				
				<div align="center">
					<a @click.prevent="id++" style="cursor:pointer;font-weight:bold;">▶返回树状图页◀</a>
				</div>
			</div>
			<div v-if="id==-3">
				<div class="title" align='center'>{{S_CLASS+">"+S_ORDER}}</div><br>{{getInfo()}}
				<div id="waterfall" class="waterfall" >
					<div class="water" v-for="(item, i) in list" v-if="item.S_CLASS==S_CLASS && item.S_ORDER==S_ORDER && item.F_NAME && (i==0 || item.S_FAMILY!=list[i-1].S_FAMILY || item.S_FAMILY==null)"
						@click.prevent="S_CLASS=item.S_CLASS;S_ORDER=item.S_ORDER;S_FAMILY=item.S_FAMILY;(i==list.length-1 || item.S_FAMILY==null || item.S_FAMILY!=list[i+1].S_FAMILY)?id=i:id=-4">
						<img :src='item.F_GROUP+"/"+item.F_NAME.split(",")[0]' @click.prevent="id=i" alt="" />
						<p><span v-if="item.S_FAMILY!=null" >{{item.S_FAMILY}}{{getFamilyChildNum(i)}}：</span>{{item.TITLE}}</p>
					</div>
				</div>
				<br><br>				
				<div align="center">
					<a @click.prevent="id=-1" style="cursor:pointer;font-weight:bold;">▶返回树状图页◀</a>
				</div>
			</div>
			<div v-if="id==-4">
				<div class="title" align='center'>{{S_CLASS+">"+S_ORDER+">"+S_FAMILY}}</div><br>{{getInfo()}}
				<div id="waterfall" class="waterfall" >
					<div class="water" v-for="(item, i) in list" 
						v-if="item.S_CLASS==S_CLASS && item.S_ORDER==S_ORDER && item.S_FAMILY==S_FAMILY && item.F_NAME">
						<img :src='item.F_GROUP+"/"+item.F_NAME.split(",")[0]' @click.prevent="id=i" alt="" />
						<p>{{item.TITLE}}</p>
					</div>
				</div>
				<br><br>				
				<div align="center">
					<a @click.prevent="id++" style="cursor:pointer;font-weight:bold;">▶返回本目◀</a>
				</div>
			</div>
			<div v-if="id>=0">
				<div class="title" align='center'>{{list[id].TITLE}}</div><br>
				<span v-if="list[id].S_PHYLUM!=null" @click.prevent="S_ORDER=list[id].S_ORDER;id=-1" style="cursor:pointer;font-weight:bold;">【{{list[id].S_PHYLUM}}】></span>
				<span v-if="list[id].S_CLASS!=null" @click.prevent="S_CLASS=list[id].S_CLASS;S_ORDER=list[id].S_ORDER;id=-2" style="cursor:pointer;font-weight:bold;">【{{list[id].S_CLASS}}】></span>	
				<span v-if="list[id].S_ORDER!=null" @click.prevent="S_CLASS=list[id].S_CLASS;S_ORDER=list[id].S_ORDER;id=-3" style="cursor:pointer;font-weight:bold;">【{{list[id].S_ORDER}}】></span>
				<span v-if="list[id].S_FAMILY!=null"
					@click.prevent="S_CLASS=list[id].S_CLASS;S_ORDER=list[id].S_ORDER;S_FAMILY=list[id].S_FAMILY;id=-4"
					style="cursor:pointer;font-weight:bold;" >【{{list[id].S_FAMILY}}】></span> {{list[id].TITLE}}<br>
				<span v-if="list[id].F_DESC!=null" >{{list[id].F_DESC}}<br></span>
				<br><div v-for="(item, i) in list[id].F_NAME.split(',')"><img class='myimg' :src='list[id].F_GROUP+"/"+item' /><br/></div>
				<br><br>				
				<div align="center">
					<a @click.prevent="if(id!=-1)prePic();" style="cursor:pointer">◀</a>
					<a @click.prevent="id=-1" style="cursor:pointer;font-weight:bold;">返回树状图页</a>
					<a @click.prevent="if(id!=-1)nextPic();" style="cursor:pointer">▶</a>
				</div>
			</div>
		</div>
		<div class="footer">Copyright © 2015~Now 鱼儿. All Rights Reserved.</div><br/><br/>
	</div>
</body>
<script>
//http://duocet.ibiodiversity.net/index.php
//普通植物 http://species.sciencereading.cn/biology/v/speciesDetails/122/ZW/1709135.html
//藻类 http://haizao.jmu.edu.cn/info/1080/1235.htm
//地衣 https://wenku.baidu.com/view/6dcda3e35acfa1c7ab00cc25.html
//https://taieol.tw/pages/209893

var all=new Vue({
	el: '#all',
	data:{ 	
		list:sfile,
		info:ifile,
		test:false,
		words:[{x:225.333,y:432.5367,n:"木贼目"},{x:19.5,y:405.0367,n:"南洋杉目"},{x:17,y:359.5367,n:"金松目"},{x:83.5,y:338.5367,n:"柏目"},{x:75.5,y:462.5367,n:"麻黄目"},
			{x:23,y:424.0367,n:"百岁兰目"},{x:23.3335,y:462.7037,n:"买麻藤目"},{x:331.9464,y:212.7542,n:"虎耳草目"},{x:320.4431,y:149.3359,n:"葡萄目"},{x:397.5289,y:152.2798,n:"蒺藜目"},
			{x:163.9612,y:250.6264,n:"露兜树目"},{x:139.5276,y:238.6358,n:"薯蓣目"},{x:65.4766,y:279.4417,n:"百合目"},{x:90.9348,y:233.4664,n:"天门冬目"},{x:220.1895,y:413.7855,n:"无油樟目"},
			{x:153.1327,y:403.0031,n:"睡莲目"},{x:213.1895,y:394.4701,n:"木兰藤目"},{x:231.8165,y:326.9999,n:"木兰目"},{x:269.95,y:340.4904,n:"樟目"},{x:274.5575,y:356.8401,n:"胡椒目"},
			{x:275.2835,y:389.1226,n:"白樟目"},{x:125.1895,y:359.9572,n:"金粟兰目"},{x:124.1895,y:333.6653,n:"菖蒲目"},{x:164.211,y:293.8574,n:"泽泻目"},{x:84.1624,y:311.0451,n:"无叶莲目"},
			{x:34.8378,y:253.0103,n:"棕榈目"},{x:84.6221,y:206.0321,n:"禾本目"},{x:33.2509,y:200.2479,n:"鸭跖草目"},{x:21.0878,y:222.3381,n:"姜目"},{x:259.4717,y:301.2542,n:"金鱼藻目"},
			{x:185.4599,y:264.155,n:"毛茛目"},{x:280.8238,y:267.8614,n:"山龙眼目"},{x:196.5399,y:229.9403,n:"昆栏树目"},{x:301.8243,y:235.0141,n:"黄杨目"},{x:215.0397,y:204.3685,n:"大叶草目"},
			{x:282.7831,y:167.6938,n:"五桠果目"},{x:317.3779,y:114.6673,n:"豆目"},{x:359.0235,y:66.1688,n:"蔷薇目"},{x:300.5223,y:65.1688,n:"壳斗目"},{x:326.1148,y:47.1688,n:"葫芦目"},
			{x:419.2818,y:135.002,n:"卫矛目"},{x:391.3636,y:81.3013,n:"金虎尾目"},{x:413.8413,y:97.3012,n:"酢浆草目"},{x:417.5352,y:174.2729,n:"牻牛儿苗目"},{x:428.3208,y:212.8658,n:"桃金娘目"},
			{x:405.5352,y:235.2384,n:"缨子木目"},{x:333.2202,y:251.5211,n:"苦榄木目"},{x:401.0352,y:268.3199,n:"无患子目"},{x:326.566,y:282.8281,n:"腺椒树目"},{x:389.0352,y:308.3616,n:"十字花目"},
			{x:344.7073,y:309.3616,n:"锦葵目"},{x:198.8712,y:189.8616,n:"红珊藤目"},{x:267.4345,y:132.8,n:"檀香目"},{x:187.5352,y:169.5864,n:"石竹目"},{x:242.7165,y:112.0327,n:"山茱萸目"},
			{x:150.5352,y:145.9644,n:"杜鹃花目"},{x:119.6025,y:106.9786,n:"茶茱萸目"},{x:66.5765,y:112.0375,n:"水螅花目"},{x:106.0352,y:169.9109,n:"丝缨花目"},{x:37.4289,y:127.6725,n:"紫草目"},
			{x:25.7623,y:144.5223,n:"龙胆目"},{x:16.7623,y:159.7401,n:"黄漆姑目"},{x:38.8378,y:174.3657,n:"唇形目"},{x:77.8645,y:184.6547,n:"茄目"},{x:226.75,y:81.5367,n:"冬青目"},
			{x:139.25,y:83.5367,n:"菊目"},{x:212.25,y:60.8927,n:"南鼠刺目"},{x:204.25,y:42.0367,n:"绒球花目"},{x:114.1895,y:53.0367,n:"伞形目"},{x:185,y:13.2867,n:"川续断目"},
			{x:101.5,y:31.5367,n:"盔被花目"},{x:121.5,y:475.0367,n:"苏铁目"},{x:103,y:405.0367,n:"银杏目"},{x:84,y:379.2037,n:"松目"},{x:37,y:327.0367,n:"红豆杉目"},
			{x:300.667,y:469.2037,n:"松叶蕨目"},{x:296,y:487.5367,n:"瓶尔小草目"},{x:272,y:415.2037,n:"合囊蕨目"},{x:328.5,y:451.0367,n:"紫萁目"},{x:323.125,y:399.1617,n:"膜蕨目"},
			{x:363.5,y:440.1617,n:"里白目"},{x:360.5,y:386.0367,n:"莎草蕨目"},{x:395.5,y:427.5367,n:"槐叶蘋目"},{x:435.333,y:407.7037,n:"桫椤目"},{x:406,y:367.7037,n:"水龙骨目"},],
		N_NAME:{"樟科":"樟目","棕榈科":"棕榈目","十字花科":"十字花目","豆科":"豆目","酢浆草科":"酢浆草目",
			"葡萄科":"葡萄目","鸭跖草科":"鸭跖草目","姜科":"姜目","薯蓣科":"薯蓣目","茄科":"茄目",
			"睡莲科":"睡莲目","石竹科":"石竹目","菊科":"菊目","天门冬科":"天门冬目","唇形科":"唇形目",
			"桫椤科":"桫椤目","里白科":"里白目","松科":"松目","柏科":"柏目",},
		id:-1,
		S_CLASS:"双子叶植物纲",
		S_ORDER:"",
		S_FAMILY:"",
	},
	methods: {
		reSet: function reSet(){		
			this.list=[];
			for(let i=0;i<sfile.length;i++) 
				if(this.test || sfile[i].F_GROUP!="wai") this.list.push(sfile[i]);
				else if(i==0 || sfile[i].S_ORDER!=sfile[i-1].S_ORDER) {
					let tmpObj ={};
					tmpObj["S_DOMAIN"] = sfile[i]["S_DOMAIN"];tmpObj["S_KINGDOM"] = sfile[i]["S_KINGDOM"];tmpObj["S_PHYLUM"] = sfile[i]["S_PHYLUM"];
					tmpObj["S_CLASS"] = sfile[i]["S_CLASS"];tmpObj["S_ORDER"] = sfile[i]["S_ORDER"];
					this.list.push(tmpObj);
				}
			this.setNewOrderName();this.setOrderId();
			this.$forceUpdate();		
		},
		prePic: function prePic(){
			let i=this.id-1;
			while(i!=-1) if(this.list[i].F_NAME!=null) break; else i--;
			this.id=i;
		},
		nextPic: function nextPic(){
			let i=this.id+1;
			while(i<this.list.length) if(this.list[i].F_NAME!=null) break; else i++;
			if(i>=this.list.length)i=-1;
			this.id=i;
		},
		setNewOrderName: function setNewOrderName(){
		//console.log(this.N_NAME["樟科"])
			for(let i=0;i<this.list.length;i++) 
				if(this.list[i].F_NAME!=null && this.list[i].S_FAMILY!=null && this.N_NAME[this.list[i].S_FAMILY]!=null)
					this.list[i].S_ORDER=this.N_NAME[this.list[i].S_FAMILY];
		},
		setOrderId: function setOrderId(){
			for(let j=0;j<this.words.length;j++) {this.words[j].id=-1;this.words[j].num=0;}
			for(let i=0;i<this.list.length;i++) if(this.list[i].F_NAME!=null && (i==0 || this.list[i].S_ORDER!=this.list[i-1].S_ORDER) ){
				for(let j=0;j<this.words.length;j++) if(this.words[j].n==this.list[i].S_ORDER) {this.words[j].id=i;this.words[j].num=this.getOrderChildNum(i);break;}
			}
		},
		setClass: function setClass(s){
			let i=0;
			while(i<this.list.length) if(this.list[i].S_ORDER==s) break; else i++;
			if(i==this.list.length) {this.S_CLASS="";return -1;}
			else {this.S_CLASS=this.list[i].S_CLASS;return i;}
		},
		getFamilyChildNum: function getFamilyChildNum(j){
			if(this.list[j].S_FAMILY==null)return "";
			let i=j+1;
			while(i<this.list.length) if(this.list[i].S_FAMILY!=this.list[j].S_FAMILY) break; else i++;
			if(i-j==1)return "";
			return j-i;
		},
		getOrderChildNum: function getOrderChildNum(j){
			if(j==-1)return 0;
			let i=j+1;let k=0;if(this.list[j].F_NAME!=null)k++;
			while(i<this.list.length) 
				if(this.list[i].S_ORDER!=this.list[j].S_ORDER) break; 
				else {if(this.list[i].F_NAME!=null && this.list[i].S_FAMILY!=this.list[i-1].S_FAMILY)k++; i++;}
			return k;
		},
		getOrderGrandChildNum: function getOrderChildNum(j){
			let i=j+1;let k=0;if(this.list[j].F_NAME!=null)k++;
			while(i<this.list.length) 
				if(this.list[i].S_ORDER!=this.list[j].S_ORDER) break; 
				else {if(this.list[i].F_NAME!=null)k++; i++;}
			if(k<=1)return "";
			return "/"+k;
		},
		getClassChildNum: function getClassChildNum(j){
			let i=j+1;let k=0;if(this.list[j].F_NAME!=null)k++;
			while(i<this.list.length) 
				if(this.list[i].S_CLASS!=this.list[j].S_CLASS) break; 
				else {if(this.list[i].F_NAME!=null && this.list[i].S_ORDER!=this.list[i-1].S_ORDER)k++; i++;}
			if(k==0)return "";
			return "/"+k;
		},
		getClassGrandChildNum: function getClassGrandChildNum(j){
			let i=j+1;let k=0;if(this.list[j].F_NAME!=null)k++;
			while(i<this.list.length) 
				if(this.list[i].S_CLASS!=this.list[j].S_CLASS) break; 
				else {if(this.list[i].F_NAME!=null && 
				(this.list[i].S_ORDER!=this.list[i-1].S_ORDER || this.list[i].S_FAMILY!=this.list[i-1].S_FAMILY) )k++; i++;}
			if(k==0)return "";
			return "/"+k;
		},
		getClassGrandGrandChildNum: function getClassGrandGrandChildNum(j){
			let i=j+1;let k=0;if(this.list[j].F_NAME!=null)k++;
			while(i<this.list.length) 
				if(this.list[i].S_CLASS!=this.list[j].S_CLASS) break; 
				else {if(this.list[i].F_NAME!=null)k++; i++;}
			if(k==0)return "";
			return "/"+k;
		},
		getInfo: function getInfo(){
			let str="";
			switch(this.id) {
				 case -2:
					for(let i=0;i<this.info.length;i++) if(this.S_CLASS==this.info[i].S_CLASS) {str=this.info[i].INFO; break;}
					break;
				 case -3:
					for(let i=0;i<this.info.length;i++) if(this.S_CLASS==this.info[i].S_CLASS && this.S_ORDER==this.info[i].S_ORDER) {str=this.info[i].INFO; break;}
					break;
				 case -4:
					for(let i=0;i<this.info.length;i++) if(this.S_CLASS==this.info[i].S_CLASS && 
						this.S_ORDER==this.info[i].S_ORDER && this.S_FAMILY==this.info[i].S_FAMILY) {str=this.info[i].INFO; break;}
				 break;
				 default:break;
			} 
			return str;
		},
	},
	created: function created() {
		//console.log(this.words.length);	
		this.setNewOrderName();this.setOrderId();
		if(self.location.href.substring(0,4)!="http")this.test=true;
		else this.reSet();
		let url=self.location.href;
		if(url.indexOf('=')>=0) this.id=decodeURI(url.split('sid=')[1]);
		var _this = this;
        document.onkeydown = function(e) {
            let key = window.event.keyCode;
			if (key == 36) _this.id=-1;
            if (key == 37) {
                if(_this.id!=-1) _this.prePic();
            }
			if (key == 39) {
                if(_this.id!=-1) _this.nextPic();
            }
        };

	},
	beforeUpdate: function beforeUpdate(){
		if(this.id>=0){
			if (document.body && document.body.scrollTop) 
				this.scrolltop=document.body.scrollTop;
			if (document.documentElement && document.documentElement.scrollTop) 
				this.scrolltop=document.documentElement.scrollTop;
		}
	},
	updated: function updated(){
		if(this.id<0) document.body.scrollTop=document.documentElement.scrollTop=this.scrolltop;
		else document.body.scrollTop=document.documentElement.scrollTop=0;
		if(this.id>=0)document.title=this.list[this.id].TITLE;
		else if(this.id==-2) document.title="树状图·"+this.S_CLASS;
		else if(this.id==-3) document.title="树状图·"+this.S_CLASS+"·"+this.S_ORDER;
		else if(this.id==-4) document.title="树状图·"+this.S_CLASS+"·"+this.S_ORDER+"·"+this.S_FAMILY;
		else document.title="树状图";	
	},
});
</script>
</html>