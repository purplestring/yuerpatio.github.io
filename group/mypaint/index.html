<!DOCTYPE html>
<head>
	<meta charste="utf-8">
	<meta id="meta" name="viewport">
	<script>document.getElementById("meta").content="width=device-width, initial-scale="+window.screen.width/1060+",maximum-scale=1, user-scalable=no"; </script>
	<link rel="stylesheet" href="../../main/css/style.css" type="text/css" />
	<style>
		[v-cloak] {display:none;}
	</style>
	<script src="../../main/js/vue.min.js"></script>
	<script src="file.js"></script>
	<title>画集</title>
<body>
	<div id="main">
		<div id="mt"></div><div id="lm"></div><div id="rm"></div>
		<div id="mb"></div><div id="lt"></div><div id="rt"></div>
		<div id="lb"></div><div id="rb"></div><div id="ltx"></div>
		<div id="rtx"></div><div id="lbx"></div><div id="rbx"></div><br/><br/>
		<div id="all" v-cloak>		
			<div v-if="id==-1">
				<div class="title" align="center" @click.prevent="test=!test">画集</div><br><br>
				<span v-for="(item,i) in list" v-if="test || (item.SHOW!='no' && item.F_GROUP!='test')">
					<div v-if="i==0 ||item.F_GROUP!=list[i-1].F_GROUP" class="family"><br/><br/>{{groupname[item.F_GROUP]}}<br/><br/></div>
					<span v-if="item.S_GROUP!=null && (i==0 ||item.S_GROUP!=list[i-1].S_GROUP)"><br/>【{{item.S_GROUP}}】<br/></span>			
					<a v-if="item.F_NAME==null" name="file" target="_blank"  :href="'https://weibo.com/5679301959/'+item.W_URL">{{item.TITLE}}</a>
					<a v-if="item.F_NAME!=null" @click.prevent="id=i" style="color: darkcyan; cursor: pointer;">{{item.TITLE}}</a>
					<span v-if="item.F_GROUP=='guhua' || item.F_GROUP=='shufa'"></br></span>				
				</span><br/><br/>
				<div align="center">
					<a href="../../index.html" style="cursor:pointer">返回主页</a>
				</div>
			</div>
			<div v-if="id!=-1">
				<div class="title" align='center'>{{list[id].TITLE}}</div><br>
				<span v-if="list[id].F_DESC!=null" v-html="list[id].F_DESC+'</br>'"></span>
				<span v-if="list[id].W_URL!=null" >
					<a name="file" target="_blank"  :href="'https://weibo.com/5679301959/'+list[id].W_URL">微博</a><br>
				</span>	
				<a v-if="list[id].LINK!=null" target="_blank" 
				:href="'../'+list[id].LINK.split('/')[0]+'/index.html?wd='+list[id].LINK.split('/')[1]">本站参考<br></a>				
				<br>
				<span v-for="(item,i) in list[id].F_NAME">
					<img id='myimg' :src='list[id].F_GROUP+"/"+list[id].F_NAME[i]'><br><br>
				</span>
				<br>				
				<div align="center">
					<a @click.prevent="id=-1" style="cursor:pointer">返回卷主页</a>
				</div>
			</div>
		</div>		
		<div class="footer">Copyright © 2015~Now 鱼儿. All Rights Reserved.</div><br/><br/>
	</div>
</body>
<script>
var all=new Vue({
	el: '#all',
	data:{ 	
		list:file,
		groupname:{color:"彩色写实",guhua:"古画临摹",jieqi:"节气",suse:"素色写实",shufa:"书法临摹",other:"其它一些",},
		test:false,
		id:-1,
	},
	created: function created() {
		if(self.location.href.substring(0,4)!="http")this.test=true;
		let url=self.location.href;
		if(url.indexOf('=')>=0){
			let urlvalue=decodeURI(url.split('=')[1]);
			for(let i=0;i<this.list.length;i++) if(urlvalue==this.list[i].TITLE) {this.id=i; break; }
		}
	},
	beforeUpdate: function beforeUpdate(){
		if(this.id>=0){
			if (document.body && document.body.scrollTop) 
				this.scrolltop=document.body.scrollTop;
			if (document.documentElement && document.documentElement.scrollTop) 
				this.scrolltop=document.documentElement.scrollTop;
		}
	},
	updated: function updated(){
		if(this.id<0) document.body.scrollTop=document.documentElement.scrollTop=this.scrolltop;
		else document.body.scrollTop=document.documentElement.scrollTop=0;
		if(this.id>=0)document.title=this.list[this.id].TITLE;
		else document.title="画集";	
	},
});
</script>
</html>