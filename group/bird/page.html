<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta name="viewport" content="width=device-width, initial-scale=0.5,maximum-scale=0.5, user-scalable=no">
    <meta charset="UTF-8">
	<link rel="stylesheet" href="../style.css" type="text/css" />
	<style>
	</style>
	<meta name="viewport" content="width=device-width, initial-scale=0.5">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title></title>
	<script src="../group.js"></script>
	<script src="bird.js"></script>
	<script src="birdjson.js"></script>

</head>

<body>	
	<div id="pmain"></div>
</body>
<script>
	function jumpto(cid)
	{
		var oMain = document.getElementById('pmain');
		document.title=birdjson.RECORDS[cid].wu;
		
		var lastgrp=cid-1;
		for(;lastgrp>0;lastgrp--)
		{
			if(birdjson.RECORDS[lastgrp].ke!=birdjson.RECORDS[lastgrp+1].ke) break;
		}
		if(cid==0)lastgrp=1242;
		
		var nextgrp=cid+1;
		for(;nextgrp<birdjson.RECORDS.length;nextgrp++)
		{
			if(birdjson.RECORDS[nextgrp].ke!=birdjson.RECORDS[nextgrp-1].ke) break;
		}
		if(nextgrp>=1329)nextgrp=0;
		
		var lastpic=cid-1;
		for(;lastpic>0;lastpic--)
		{
			if(birdjson.RECORDS[lastpic].pic!=null) break;
		}
		if(cid==0)lastpic=cid;
		
		var nextpic=cid+1;
		for(;nextpic<birdjson.RECORDS.length;nextpic++)
		{
			if(birdjson.RECORDS[nextpic].pic!=null) break;
		}
		if(cid==birdjson.RECORDS.length)nextpic=cid;
		
		var lastid=(birdjson.RECORDS.length+cid-1)%birdjson.RECORDS.length;
		var nextid=(cid+1)%birdjson.RECORDS.length;
	
		var txt='<div id="mt"></div><div id="lm"></div><div id="rm"></div><div id="mb"></div><div id="lt"></div><div id="rt"></div><div id="lb"></div>';	
		txt+='<div id="rb"></div><div id="ltx"></div><div id="rtx"></div><div id="lbx"></div><div id="rbx"></div><br><br>';
		txt+=("<div id='navi' align='center'>"+
		'<a href="javascript:void(0);" onclick="jumpto('+lastgrp+')">◀◀◀　</a>'+
		'<a href="javascript:void(0);" onclick="jumpto('+lastpic+')">◀◀　</a>'+
		'<a href="javascript:void(0);" onclick="jumpto('+lastid+')">◀　</a>'+
		"【"+birdjson.RECORDS[cid].id+"】"+
		'<a href="javascript:void(0);" onclick="jumpto('+nextid+')">　▶</a>'+
		'<a href="javascript:void(0);" onclick="jumpto('+nextpic+')">　▶▶</a>'+
		'<a href="javascript:void(0);" onclick="jumpto('+nextgrp+')">　▶▶▶</a><br>'+

		birdjson.RECORDS[cid].mu+"->"+birdjson.RECORDS[cid].ke+
		"->"+birdjson.RECORDS[cid].shu+"->"+birdjson.RECORDS[cid].wu+
		"<br><br></div>");
		if(birdjson.RECORDS[cid].sn) txt+=("【学名】"+birdjson.RECORDS[cid].sn+"<br><br>");
		if(birdjson.RECORDS[cid].en) txt+=("【英文名】"+birdjson.RECORDS[cid].en+"<br><br>");
		if(birdjson.RECORDS[cid].des) txt+=("【特征】"+birdjson.RECORDS[cid].des+"<br><br>");
		if(birdjson.RECORDS[cid].hm) txt+=("【虹膜】"+birdjson.RECORDS[cid].hm+"<br><br>");
		if(birdjson.RECORDS[cid].hui) txt+=("【喙】"+birdjson.RECORDS[cid].hui+"<br><br>");
		if(birdjson.RECORDS[cid].zu) txt+=("【脚】"+birdjson.RECORDS[cid].zu+"<br><br>");
		if(birdjson.RECORDS[cid].vo) txt+=("【声】"+birdjson.RECORDS[cid].vo+"<br><br>");
		if(birdjson.RECORDS[cid].area) txt+=("【分布】"+birdjson.RECORDS[cid].area+"<br><br>");
		if(birdjson.RECORDS[cid].pic) 
		{ 
			txt+=("【描述】"+birdjson.RECORDS[cid].de2+"<br><br>");
			txt+="【俺拍嗒】<br><img id='myimg' src='birds/"+birdjson.RECORDS[cid].pic+"' >";
		}
		//else if(cid<1329) txt+="<img id='myimg' src='http://photo.niaolei.org.cn/cnbird/image/b"+toZero(birdjson.RECORDS[cid].id)+".jpg' >"; 
		//else if(cid<1329) txt+='<a href="http://niaolei.org.cn/bird/b'+birdjson.RECORDS[cid].id+'.htm" target="_blank">更多参考</a>'; 
		if(cid<1329) {				
			txt+='<br><div id="all_comments_a" align="center" style="display:none">';
			
			txt+='<br>《中国鸟类野外手册》手绘图、分布图：<br>';
			txt+="<br><img id='myimg' src='http://182.61.17.142/app/views/images/birdsall/b"+toZero(birdjson.RECORDS[cid].id)+".jpg' ><br>"; 
			txt+="<br><img id='myimg' src='http://182.61.17.142/app/views/images/birdmap/b"+toZero(birdjson.RECORDS[cid].id)+".jpg' ><br>"; 
			//txt+='以上手绘图、分布图引自《中国鸟类野外手册》，更多参考<a href="http://niaolei.org.cn/bird/b'+birdjson.RECORDS[cid].id+'.htm" target="_blank">这里</a><br>';
			txt+='<br><a href="http://niaolei.org.cn/bird/b'+birdjson.RECORDS[cid].id+'.htm" target="_blank">更多参考</a><br><br>';
			txt+='</div>';
			txt+='<br><div id="showmore" align="center" onclick="openShutManager(this,\'all_comments_a\')">▼</div>';
		}
		txt+='<br><br><div id="pfooter"><a href="index.html">▶返回册主页◀</a><br><br></div>';
		oMain.innerHTML=txt;
	}
		
	window.onload = function(){
		id=window.location.hash.split('#')[1];		
		jumpto(id-1);
		//console.log(oMain.offsetHeight+20+"px");
		//var oFooter = document.getElementById('footer');
		//console.log( document.body.clientHeight );
		//oFooter.style.top=oMain.offsetHeight+20+"px";
	}
</script>
</html>
